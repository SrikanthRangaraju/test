import java.io.*;
import java.util.*;
import java.nio.file.*;

public class RemoveIDs {

    public static void main(String[] args) {
        String masterFilePath = "master.txt"; // Path to the master file
        String childFilePath = "child.txt";   // Path to the child file
        String updatedMasterFilePath = "updated_master.txt"; // Path for the updated master file

        try {
            // Step 1: Read IDs from master.txt
            List<String> masterIDs = Files.readAllLines(Paths.get(masterFilePath));
            Set<String> masterSet = new HashSet<>(masterIDs); // Use a set for faster lookups

            // Step 2: Read IDs from child.txt
            List<String> childIDs = Files.readAllLines(Paths.get(childFilePath));

            // Step 3: Remove IDs from masterSet that exist in childIDs
            masterSet.removeAll(childIDs);

            // Step 4: Write the updated IDs back to updated_master.txt
            Files.write(Paths.get(updatedMasterFilePath), masterSet);

            System.out.println("Updated master file created: " + updatedMasterFilePath);

        } catch (IOException e) {
            e.printStackTrace();
            System.err.println("Error processing files. Please check file paths and permissions.");
        }
    }
}
