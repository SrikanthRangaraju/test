#!/bin/bash

# Directory containing JSON files
input_dir="RutResponse"
output_dir="ProcessedResponse"

# Create the output directory if it doesn't exist
mkdir -p "$output_dir"

# Process each JSON file in the input directory
for file in "$input_dir"/*.json; do
  # Check if the file exists and is not empty
  if [ -s "$file" ]; then
    # Process the JSON file and save it to the output directory
    sed '1d;$d;s/"response": {//' "$file" > "$output_dir/$(basename "$file")"
    echo "Processed: $(basename "$file")"
  else
    echo "Skipping empty file: $(basename "$file")"
  fi
done
